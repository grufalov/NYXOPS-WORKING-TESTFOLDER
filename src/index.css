/* ---- Imports must come first ---- */
@import "react-quill/dist/quill.snow.css";
@import "./styles/tokens.css";
@import "./styles/theme-map.css";

/* ---- Tailwind ---- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========= Custom utilities ========= */
.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* Sliders (progress) */
.slider::-webkit-slider-thumb {
  appearance: none;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: 2px solid var(--card-bg);
  box-shadow: 0 0 0 1px var(--accent);
}
.slider::-moz-range-thumb {
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: 2px solid var(--card-bg);
  box-shadow: 0 0 0 1px var(--accent);
}

/* Scrollbars (WebKit) */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--app-bg); }
::-webkit-scrollbar-thumb { background: var(--surface-bg); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* Quick Notes area */
.scrollbar-thin::-webkit-scrollbar { width: 8px; height: 8px; }
.scrollbar-thumb-gray-400::-webkit-scrollbar-thumb { background-color: var(--muted); border-radius: 4px; }
.scrollbar-track-gray-200::-webkit-scrollbar-track { background-color: var(--app-bg); }
.dark .scrollbar-thumb-slate-600::-webkit-scrollbar-thumb { background-color: var(--surface-bg); }
.dark .scrollbar-track-slate-800::-webkit-scrollbar-track { background-color: var(--app-bg); }

/* Scrollbars (Firefox) */
.scrollbar-thin { scrollbar-width: thin; scrollbar-color: var(--muted) var(--surface-bg); }
.dark .scrollbar-thin { scrollbar-color: var(--surface-bg) var(--app-bg); }

/* Optional explicit light mode helper */
.light { color-scheme: light; }
.light ::-webkit-scrollbar-track { background: var(--app-bg); }
.light ::-webkit-scrollbar-thumb { background: var(--surface-bg); }
.light ::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* Layout base */
html, body, #root { height: 100%; }
body { background-color: var(--app-bg); color: var(--text); }

/* Task completion animation */
@keyframes taskComplete {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.1); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}
.task-complete-animation { animation: taskComplete 160ms cubic-bezier(0.4,0,0.2,1); }

/* A11y focus */
.focus-ring { @apply focus:outline-none focus:ring-2 focus:ring-[#8a87d6] focus:ring-offset-2; }

/* Screen reader only */
.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* Hide scrollbars for segmented control */
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }

/* Hover lift */
.hover-lift { @apply transition-transform duration-200 hover:-translate-y-[2px]; }

/* Custom checkbox */
.task-checkbox { @apply w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-150 transform; accent-color:#8a87d6; }
.task-checkbox:checked { @apply bg-[#8a87d6] border-[#8a87d6] text-white scale-110; }
